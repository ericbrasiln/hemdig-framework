
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>8.3. Scraper para o site da Hemeroteca Digital de Lisboa &#8212; HEMDIG(pt) Framework</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css?v=6ad1a40c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=351a2e83"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'part3/capitulo8/sec83';</script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="9. Organização dos datasets" href="../capitulo9/cap9.html" />
    <link rel="prev" title="8.2. Scraper para a Biblioteca Digital de Portugal." href="sec82.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>


  <div class="bd-header-announcement container-fluid bd-header-announcement">
    <div class="bd-header-announcement__content">⚠️ Versão em revisão final. ⚠️</div>
  </div>

  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo-sm.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo-sm.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Início
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Apresentação da pesquisa</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../pretext/como_usar.html">Como utilizar os recursos desse livro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pretext/pesquisa.html">Histórico, versionamento, repositório</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">1ª fase - Planejamento e Preparação</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../part1/part1-intro.html">Em que consiste a primeira fase?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part1/capitulo1/cap1.html">1. Revisão da Literatura</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part1/capitulo1/sec11.html">1.1. Levantamento bibliográfico nas bases Scopus e Web of Science</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part1/capitulo2/cap2.html">2. Preparação técnica básica</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part1/capitulo2/sec21.html">2.1. Tutoriais do Programming Historian</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../part1/capitulo3/cap3.html">3. Planejamento da pesquisa</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">2ª fase - Crítica dos Acervos</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../part2/part2-intro.html">Em que consiste a segunda fase?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part2/capitulo4/cap4.html">4. Os casos de estudo: Hemeroteca Digital Brasileira, Biblioteca Nacional Digital de Portugal e Hemeroteca Digital da Hemeroteca Municipal de Lisboa</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part2/capitulo4/sec41.html">4.1. Análise dos dados de periódicos da Hemeroteca Digital Brasileira da Biblioteca Nacional</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part2/capitulo4/sec42.html">4.2. Análise dos dados de periódicos da Biblioteca Nacional Digital de Portugal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part2/capitulo4/sec43.html">4.3. Análise dos dados de periódicos da Hemeroteca Municipal de Lisboa</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part2/capitulo5/cap5.html">5. Análise das interfaces gráficas</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part2/capitulo5/sec51.html">5.1. Critérios de avaliação das interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part2/capitulo5/sec52.html">5.2. Método de revisão <em>Impresso</em></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../part2/capitulo6/cap6.html">6. Um esforço comparativo</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3ª fase - Coleta de dados</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part3-intro.html">Em que consiste a terceira fase?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../capitulo7/cap7.html">7. Relatórios e documentação das buscas</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../capitulo7/sec71.html">7.1. Relatórios Metodológicos para Pesquisa em Interfaces Gráficas de Periódicos Digitalizados</a></li>

</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="cap8.html">8. Scrapers de dados</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sec81.html">8.1 pyHDB - Coleta de metadados e acervos da HDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="sec82.html">8.2. Scraper para a Biblioteca Digital de Portugal.</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">8.3. Scraper para o site da Hemeroteca Digital de Lisboa</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../capitulo9/cap9.html">9. Organização dos datasets</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">4ª fase - Tratamento dos dados</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../part4/part4-intro.html">Em que consiste a quarta fase?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part4/capitulo10/cap10.html">10. Reconhecimento ótico de caracteres</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part4/capitulo10/sec101.html">10.1. Definição de estratégias: volume e qualidade dos dados</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../part4/capitulo11/cap11.html">11. Lições do Programming Historian para Reconhecimento Ótico de Caracteres (OCR)</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part4/capitulo12/cap12.html">12. A) OCR com CLI</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part4/capitulo12/sec121.html">12.1. Testando o OCR-D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part4/capitulo12/sec122.html">12.2. Testanto o Kraken</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../part4/capitulo12/sec123.html">12.3. Recomendações e conclusões</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../part4/capitulo13/cap13.html">13. B) OCR com GUI</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../part4/capitulo13/sec131.html">13.1. Testando o gImageReader</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">5ª Fase - Revisão, preservação e publicação</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../part5/part5-intro.html">Em que consiste a quinta fase?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part5/capitulo14/cap14.html">14. Consolidação da documentação</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part5/capitulo15/cap15.html">15. Revisão dos dados e metadados</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part5/capitulo16/cap16.html">16. Publicação dos dados</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Considerações Finais</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../postext/consideracoes_finais.html">Considerações finais</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../postext/biblio.html">Referências Bibliográficas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../postext/agradecimentos.html">Agradecimentos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../postext/contatos.html">Contatos</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Apêndices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../apendices/apendices.html">Apêndices</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../apendices/apendiceA.html">A. Dados dos acervos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apendices/apendiceB.html">B. Dados das interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apendices/apendiceC.html">C. Gráficos, visualizações e imagens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apendices/apendiceD.html">D. Ferramentas de análise de dados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apendices/apendiceE.html">E. Links Úteis</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/ericbrasiln/hemdig-framework/main?urlpath=lab/tree/book/part3/capitulo8/sec83.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/ericbrasiln/hemdig-framework/blob/main/book/part3/capitulo8/sec83.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ericbrasiln/hemdig-framework" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ericbrasiln/hemdig-framework/issues/new?title=Issue%20on%20page%20%2Fpart3/capitulo8/sec83.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/part3/capitulo8/sec83.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>

</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>8.3. Scraper para o site da Hemeroteca Digital de Lisboa</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="scraper-para-o-site-da-hemeroteca-digital-de-lisboa">
<h1>8.3. Scraper para o site da Hemeroteca Digital de Lisboa<a class="headerlink" href="#scraper-para-o-site-da-hemeroteca-digital-de-lisboa" title="Permalink to this heading">#</a></h1>
<p>Esse notebook busca coletar os dados dos periódicos digitalizados e disponíveis no site da Hemeroteca Digital de Lisboa. Os dados serão organizados em um <em>dataframe</em> e exportados para um arquivo csv.</p>
<p>Os dados coletados são:</p>
<ul class="simple">
<li><p><strong>Título</strong>: Título do periódico</p></li>
<li><p><strong>Autoria</strong>: Autoria do periódico</p></li>
<li><p><strong>Período</strong>: Período disponível do periódico</p></li>
<li><p><strong>Link</strong>: Link para o periódico</p></li>
<li><p><strong>Fichas Históricas</strong>: Link para as fichas históricas do periódico</p></li>
<li><p><strong>Quantidade de PDF</strong>: Quantidade de PDFs disponíveis do periódico</p></li>
<li><p><strong>Links dos PDFs</strong>: Lista com links para os PDFs disponíveis do periódico</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importar bibliotecas</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span> <span class="k">as</span> <span class="n">bs</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># definir lista de letras que foram o índice</span>
<span class="n">letras</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;I&#39;</span><span class="p">,</span> <span class="s1">&#39;J&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;U&#39;</span><span class="p">,</span><span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">]</span>

<span class="c1"># definir url base</span>
<span class="n">url_base</span> <span class="o">=</span> <span class="s1">&#39;https://hemerotecadigital.cm-lisboa.pt/Indice/Indice&#39;</span>

<span class="c1"># final da url</span>
<span class="n">url_final</span> <span class="o">=</span> <span class="s1">&#39;.htm&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># definir lista de urls completa</span>
<span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url_base</span> <span class="o">+</span> <span class="n">letra</span> <span class="o">+</span> <span class="n">url_final</span> <span class="k">for</span> <span class="n">letra</span> <span class="ow">in</span> <span class="n">letras</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># função para criar objeto soup</span>
<span class="k">def</span> <span class="nf">criar_soup</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">bs</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">soup</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># find all a href that ends with .htm and start with ../Periodicos or ../OBRAS</span>
<span class="k">def</span> <span class="nf">encontrar_links</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="n">links</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">links</span> <span class="o">=</span> <span class="p">[</span><span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span> <span class="k">if</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.htm&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;../Periodicos&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;../OBRAS&#39;</span><span class="p">))]</span>
    <span class="c1"># replace ../ with https://hemerotecadigital.cm-lisboa.pt/</span>
    <span class="n">links</span> <span class="o">=</span> <span class="p">[</span><span class="n">link</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;../&#39;</span><span class="p">,</span> <span class="s1">&#39;https://hemerotecadigital.cm-lisboa.pt/&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">links</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># loop com as urls</span>
<span class="n">links_geral</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">:</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">criar_soup</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">links</span> <span class="o">=</span> <span class="n">encontrar_links</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="n">links_geral</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># função para pegar o título e a data de publicação</span>
<span class="k">def</span> <span class="nf">pegar_titulo_data</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="n">titulo_data</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="c1"># encontrar data com regex: tudo entre [ e ]</span>
    <span class="c1"># se não encontrar [ no título, retorna None</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\[&#39;</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">titulo_data</span><span class="p">)</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;Sem data&quot;</span>
        <span class="n">titulo</span> <span class="o">=</span> <span class="n">titulo_data</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\[(.*?)\]&#39;</span><span class="p">,</span> <span class="n">titulo_data</span><span class="p">)</span>
        <span class="c1"># encontrar título com regex: tudo antes de [</span>
        <span class="n">titulo</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(.*?)\[&#39;</span><span class="p">,</span> <span class="n">titulo_data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">titulo</span><span class="p">,</span> <span class="n">data</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Encontrar todos os links que terminam em &quot;.pdf&quot;</span>
<span class="k">def</span> <span class="nf">encontrar_pdf</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
    <span class="n">pdf_links</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pdf_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">pdf_links</span> <span class="k">if</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.pdf&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.PDF&#39;</span><span class="p">)]</span>
    <span class="c1"># excluir string após última &quot;/&quot; em url</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span>
    <span class="c1"># add url to pdf_links</span>
    <span class="n">pdf_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">url</span> <span class="o">+</span> <span class="n">link</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">pdf_links</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">pdf_links</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># criar lista geral para os dados</span>
<span class="n">dados_geral</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># loop nos links</span>
<span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links_geral</span><span class="p">:</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">criar_soup</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
    <span class="n">titulo</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">pegar_titulo_data</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="n">pdf_links</span> <span class="o">=</span> <span class="n">encontrar_pdf</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">link</span><span class="p">)</span>
    <span class="c1"># se FichasHistoricas estiver no link, adicionar à lista de dados na variável fichas</span>
    <span class="n">fichas</span> <span class="o">=</span> <span class="s2">&quot;Sem Ficha Histórica&quot;</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot;FichasHistoricas&quot;</span> <span class="ow">in</span> <span class="n">pdf</span> <span class="k">for</span> <span class="n">pdf</span> <span class="ow">in</span> <span class="n">pdf_links</span><span class="p">):</span>
        <span class="n">fichas</span> <span class="o">=</span> <span class="p">[</span><span class="n">pdf</span> <span class="k">for</span> <span class="n">pdf</span> <span class="ow">in</span> <span class="n">pdf_links</span> <span class="k">if</span> <span class="s2">&quot;FichasHistoricas&quot;</span> <span class="ow">in</span> <span class="n">pdf</span><span class="p">]</span>
        <span class="c1"># correção do link para o pdf</span>
        <span class="n">fichas</span> <span class="o">=</span> <span class="n">fichas</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="s1">&#39;https://hemerotecadigital.cm-lisboa.pt/&#39;</span><span class="p">)</span>
    <span class="c1"># contar o número de pdfs</span>
    <span class="n">num_pdfs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pdf_links</span><span class="p">)</span>
    <span class="c1"># verificar se algum pdf possui a string&quot;FichasHistoricas&quot;</span>
    <span class="c1"># se sim, excluir da lista e subtrair 1 do número de pdfs</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="s2">&quot;FichasHistoricas&quot;</span> <span class="ow">in</span> <span class="n">pdf</span> <span class="k">for</span> <span class="n">pdf</span> <span class="ow">in</span> <span class="n">pdf_links</span><span class="p">):</span>
        <span class="n">pdf_links</span> <span class="o">=</span> <span class="p">[</span><span class="n">pdf</span> <span class="k">for</span> <span class="n">pdf</span> <span class="ow">in</span> <span class="n">pdf_links</span> <span class="k">if</span> <span class="s2">&quot;FichasHistoricas&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pdf</span><span class="p">]</span>
        <span class="n">num_pdfs</span> <span class="o">=</span> <span class="n">num_pdfs</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="c1"># criar lista com os dados</span>
    <span class="n">dados</span> <span class="o">=</span> <span class="p">[</span><span class="n">titulo</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">num_pdfs</span><span class="p">,</span> <span class="n">pdf_links</span><span class="p">,</span> <span class="n">fichas</span><span class="p">]</span>
    <span class="c1"># adicionar dados à lista de dados</span>
    <span class="n">dados_geral</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dados</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># criar dataframe com headers</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dados_geral</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">,</span> <span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="s1">&#39;Quantidade de PDF&#39;</span><span class="p">,</span> <span class="s1">&#39;Links dos PDFs&#39;</span><span class="p">,</span> <span class="s1">&#39;Fichas Históricas&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># transformar itens da coluna &#39;Título&#39; em string</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="c1"># remover colchetes e aspas da coluna &#39;Título&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_36193/591487736.py:4: FutureWarning: The default value of regex will change from True to False in a future version. In addition, single character regular expressions will *not* be treated as literal strings when regex=True.
  df[&#39;Título&#39;] = df[&#39;Título&#39;].str.replace(&#39;[&#39;, &#39;&#39;)
/tmp/ipykernel_36193/591487736.py:5: FutureWarning: The default value of regex will change from True to False in a future version. In addition, single character regular expressions will *not* be treated as literal strings when regex=True.
  df[&#39;Título&#39;] = df[&#39;Título&#39;].str.replace(&#39;]&#39;, &#39;&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># transformar itens da coluna &#39;Data&#39; em string</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="c1"># remover colchetes e aspas da coluna &#39;Data&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_36193/3931564129.py:4: FutureWarning: The default value of regex will change from True to False in a future version. In addition, single character regular expressions will *not* be treated as literal strings when regex=True.
  df[&#39;Data&#39;] = df[&#39;Data&#39;].str.replace(&#39;[&#39;, &#39;&#39;)
/tmp/ipykernel_36193/3931564129.py:5: FutureWarning: The default value of regex will change from True to False in a future version. In addition, single character regular expressions will *not* be treated as literal strings when regex=True.
  df[&#39;Data&#39;] = df[&#39;Data&#39;].str.replace(&#39;]&#39;, &#39;&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># se coluna data for vazia, preencher com &quot;Sem data&quot;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Sem data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Corrigindo títulos vazios</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># se links_pdf não for vazio, pegar o primeiro link</span>
<span class="k">if</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Links dos PDFs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">empty</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
    <span class="c1"># se coluna &#39;Título&#39; for vazia, preencher com item da coluna &#39;Links dos PDFs&#39;</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Links dos PDFs&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># transforma itens da coluna &#39;Título&#39; em string</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># excluir string até &quot;Periodicos/&quot; ou &quot;OBRAS/&quot; na coluna título usando regex</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*Periodicos/&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*OBRAS/&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c1"># substitui tudo após o primeiro &quot;/&quot; por vazio</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/.*&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_36193/3298843525.py:2: FutureWarning: The default value of regex will change from True to False in a future version.
  df[&#39;Título&#39;] = df[&#39;Título&#39;].str.replace(r&#39;.*Periodicos/&#39;, &#39;&#39;)
/tmp/ipykernel_36193/3298843525.py:3: FutureWarning: The default value of regex will change from True to False in a future version.
  df[&#39;Título&#39;] = df[&#39;Título&#39;].str.replace(r&#39;.*OBRAS/&#39;, &#39;&#39;)
/tmp/ipykernel_36193/3298843525.py:5: FutureWarning: The default value of regex will change from True to False in a future version.
  df[&#39;Título&#39;] = df[&#39;Título&#39;].str.replace(r&#39;/.*&#39;, &#39;&#39;)
</pre></div>
</div>
</div>
</div>
<p>Excluir itens duplicados</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># se valor na coluna &#39;Título&#39; for repetido, exclui linha</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Título&#39;</span><span class="p">],</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Limpando as datas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tente encontrar &#39;\d{4}-\d{4}&#39; na coluna &#39;Data&#39; senão encontrar busca por &#39;\d{4}&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Anos&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d</span><span class="si">{4}</span><span class="s1">-\d</span><span class="si">{4}</span><span class="s1">|\d</span><span class="si">{4}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># deletar &#39;\d{4}-\d{4}|\d{4}&#39; da coluna &#39;Data&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d</span><span class="si">{4}</span><span class="s1">-\d</span><span class="si">{4}</span><span class="s1">|\d</span><span class="si">{4}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c1"># deletar &#39;;&#39;, &#39;?&#39;, da coluna &#39;Data&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;;|\?&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c1"># deletar &#39;Sem data&#39; da coluna &#39;Data&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Sem data&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="c1"># deletar espaços em branco da coluna &#39;Data&#39;</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="c1"># adicionar &#39;Sem local&#39; à coluna &#39;Data&#39; se estiver vazia</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Sem local&#39;</span><span class="p">)</span>
<span class="c1"># renomear coluna &#39;Data&#39; para &#39;Local&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Data&#39;</span><span class="p">:</span> <span class="s1">&#39;Local&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_36193/3049931291.py:2: FutureWarning: The default value of regex will change from True to False in a future version.
  df[&#39;Data&#39;] = df[&#39;Data&#39;].str.replace(r&#39;\d{4}-\d{4}|\d{4}&#39;, &#39;&#39;)
/tmp/ipykernel_36193/3049931291.py:4: FutureWarning: The default value of regex will change from True to False in a future version.
  df[&#39;Data&#39;] = df[&#39;Data&#39;].str.replace(r&#39;;|\?&#39;, &#39;&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># reorganizar colunas</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Título&#39;</span><span class="p">,</span> <span class="s1">&#39;Anos&#39;</span><span class="p">,</span> <span class="s1">&#39;Local&#39;</span><span class="p">,</span> <span class="s1">&#39;Fichas Históricas&#39;</span><span class="p">,</span> <span class="s1">&#39;Quantidade de PDF&#39;</span><span class="p">,</span> <span class="s1">&#39;Links dos PDFs&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># exportar locais únicos para csv</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Local&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/locais_hemeroteca_lisboa_raw.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># manualmente corri os locais e criei o csv com os locais corretos</span>
<span class="c1"># leia o csv com os locais</span>
<span class="n">locais</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/locais_hemeroteca_lisboa.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># print o datafram locais</span>
<span class="nb">print</span><span class="p">(</span><span class="n">locais</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                                     0                        1
0                            Sem local                Sem local
1                              Lisboa,                   Lisboa
2                             Coimbra,                  Coimbra
3                      Rio de Janeiro,           Rio de Janeiro
4                               Porto,                    Porto
5                                    ,                Sem local
6                               Indice                Sem local
7                 Série 2 e 3, Lisboa,                   Lisboa
8               I e II Séries, Lisboa,                   Lisboa
9                             Novembro                Sem local
10            Lisboa e Rio de Janeiro,  Lisboa e Rio de Janeiro
11                            Porto, )                    Porto
12                              Praia,                    Praia
13          25 de Abril a 2 de Maio de                Sem local
14                  N.º 629 ao n.º 714                Sem local
15                   Lourenço Marques,         Lourenço Marques
16                           Nova Goa,                 Nova Goa
17                             29 Dez.                Sem local
18                             Outubro                Sem local
19                   N.º 1 ao n.º 52 |                Sem local
20                              Paris,                    Paris
21             Rio de Janeiro, 13 Maio           Rio de Janeiro
22                           Lisboa, -                   Lisboa
23            N.º 1 | 2 de Dezembro de                Sem local
24                          9 Dezembro                Sem local
25                     I e II Séries |                Sem local
26                               Díli,                     Díli
27                             1 Junho                Sem local
28  Rio de Janeiro, 11 a 18 de Maio de           Rio de Janeiro
29                 Washington, October               Washington
30                    Paris, 11-18 Mai                    Paris
31                  Paris, 17-23 Avril                    Paris
32             Luanda, 15 de Agosto de                   Luanda
33                Abril  | N.º  ao n.º                Sem local
34                   N.º 1 ao n.º 35 |                Sem local
35                         21 Novembro                Sem local
36                             30 Maio                Sem local
37                   | N.º 1 ao n.º 28                Sem local
38                 Bolama, Guiné, Nov.                   Bolama
39                              Macau,                    Macau
40                      Coimbra, Junho                  Coimbra
41           Madrid, 11 Mayo   8 Junio                   Madrid
42                          Lisboa,  -                   Lisboa
43                            1.º Ano,                Sem local
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># se o valor da coluna 0 no dataframe locais for igual ao valor da coluna &#39;Local&#39; no dataframe df, substitua o valor da coluna &#39;Local&#39; no dataframe df pelo valor da coluna 1 no dataframe locais</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">locais</span><span class="p">)):</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Local&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">locais</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;Local&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">locais</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Título</th>
      <th>Anos</th>
      <th>Local</th>
      <th>Fichas Históricas</th>
      <th>Quantidade de PDF</th>
      <th>Links dos PDFs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Academia Portuguesa</td>
      <td>[1933]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>11</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>O Académico: publicação bi-semanal redigida po...</td>
      <td>[]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>1</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>O academico: revista quinzenal litteraria</td>
      <td>[1878]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>6</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>O Académico: semanário ilustrado</td>
      <td>[1902-1903]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>8</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>AccaoColonial_NComemorativo</td>
      <td>[1934]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>1</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Acção realista</td>
      <td>[1924-1926]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>29</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>La Acción, Ano 1, n.º 1 (1 de Febrero de 1908)</td>
      <td>[]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>1</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Actas da Câmara Municipal de Lisboa</td>
      <td>[1974]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>3</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/OBRAS/...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Actas das sessões da Câmara Municipal de Lisboa</td>
      <td>[]</td>
      <td>Sem local</td>
      <td>Sem Ficha Histórica</td>
      <td>8</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/OBRAS/...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Água lustral : arte e crítica</td>
      <td>[1913]</td>
      <td>Coimbra</td>
      <td>Sem Ficha Histórica</td>
      <td>1</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>costumes</td>
      <td>[1903-1904]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>12</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Álbum das Glórias</td>
      <td>[1880-1902]</td>
      <td>Lisboa</td>
      <td>Sem Ficha Histórica</td>
      <td>39</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Album dos artistas</td>
      <td>[1956-1959]</td>
      <td>Lisboa</td>
      <td>Sem Ficha Histórica</td>
      <td>48</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Álbum dos vencidos</td>
      <td>[1913-1914]</td>
      <td>Lisboa</td>
      <td>Sem Ficha Histórica</td>
      <td>12</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>O aldrubia</td>
      <td>[1931-1932]</td>
      <td>Lisboa</td>
      <td>Sem Ficha Histórica</td>
      <td>4</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Alma de marialvas : órgão dos Marialvas de S. ...</td>
      <td>[1957]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>1</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Alma Nova: quinzenário académico</td>
      <td>[1931]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>2</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Alma Nova</td>
      <td>[1915-1918, 1922-1925, 1927-1929]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>39</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Altura: Cadernos de Poesia</td>
      <td>[1945]</td>
      <td>Sem local</td>
      <td>https://hemerotecadigital.cm-lisboa.pt/Periodi...</td>
      <td>2</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Almanach das Artes e Letras</td>
      <td>[1874-1876]</td>
      <td>Lisboa</td>
      <td>Sem Ficha Histórica</td>
      <td>3</td>
      <td>[https://hemerotecadigital.cm-lisboa.pt/Period...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># salvar dataframe em csv</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data/hemeroteca_lisboa.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./part3/capitulo8"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="sec82.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">8.2. Scraper para a Biblioteca Digital de Portugal.</p>
      </div>
    </a>
    <a class="right-next"
       href="../capitulo9/cap9.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">9. Organização dos datasets</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By <a href="https://ericbrasiln.github.io/">Eric Brasil</a>
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div> <img class="logo" alt="Logos das Instituições" src="https://raw.githubusercontent.com/ericbrasiln/hemdig-framework/31-jupyter-book/book/assets/images/friso-logos-full.png" /> <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> Este livro está sob a licença <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>. </div>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>